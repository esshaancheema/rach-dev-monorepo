# Security Service Configuration

# Server Configuration
NODE_ENV=development
PORT=3007

# Redis Configuration (for rate limiting and caching)
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# CloudFlare Integration
CLOUDFLARE_API_TOKEN=your_cloudflare_api_token
CLOUDFLARE_ZONE_ID=your_zone_id
CLOUDFLARE_DDOS_PROTECTION=true
CLOUDFLARE_WEBHOOK_SECRET=your_webhook_secret

# DDoS Protection Settings
MAX_REQUESTS_PER_MINUTE=100
MAX_REQUESTS_PER_IP=60
BLOCKED_COUNTRIES=CN,RU,KP,IR
ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Rate Limiting Configuration
GLOBAL_RATE_LIMIT=1000
IP_RATE_LIMIT=100
USER_RATE_LIMIT=200
ENDPOINT_RATE_LIMIT=50

# Block Duration Settings (in seconds)
WARNING_BLOCK_DURATION=300
TEMPORARY_BLOCK_DURATION=1800
EXTENDED_BLOCK_DURATION=3600
PERMANENT_BLOCK_DURATION=86400

# Monitoring Configuration
ENABLE_MONITORING=true
METRICS_RETENTION_HOURS=24
ALERT_WEBHOOK_URL=https://hooks.slack.com/your/webhook/url

# Security Headers
ENABLE_HELMET=true
ENABLE_CORS=true
ENABLE_COMPRESSION=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=./logs/security-service.log

# Authentication (for admin endpoints)
JWT_SECRET=your_jwt_secret_key
JWT_EXPIRES_IN=24h
ADMIN_API_KEY=your_admin_api_key

# Notification Settings
SLACK_WEBHOOK_URL=https://hooks.slack.com/your/webhook/url
EMAIL_SERVICE_URL=http://notification-service:3005
ENABLE_EMAIL_ALERTS=true
ENABLE_SLACK_ALERTS=true

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30000
METRICS_COLLECTION_INTERVAL=30000

# Geographic Restrictions
IP_WHITELIST=127.0.0.1,::1
ENABLE_GEO_BLOCKING=true
GEO_API_KEY=your_geo_service_api_key