# Zoptal Production Environment Configuration
# Copy this file to .env.production and update with actual values

# ===================================
# GENERAL CONFIGURATION
# ===================================
NODE_ENV=production
LOG_LEVEL=info

# ===================================
# DATABASE CONFIGURATION
# ===================================
# Main database (change to your production database URL)
DATABASE_URL=postgresql://zoptal_user:CHANGE_ME_IN_PRODUCTION@postgres:5432/zoptal

# Service-specific databases
AUTH_DATABASE_URL=postgresql://auth_service:CHANGE_ME_IN_PRODUCTION@postgres:5432/zoptal_auth
PROJECT_DATABASE_URL=postgresql://project_service:CHANGE_ME_IN_PRODUCTION@postgres:5432/zoptal_projects
BILLING_DATABASE_URL=postgresql://billing_service:CHANGE_ME_IN_PRODUCTION@postgres:5432/zoptal_billing

# PostgreSQL credentials
POSTGRES_USER=zoptal_user
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION
POSTGRES_DB=zoptal

# ===================================
# REDIS CONFIGURATION
# ===================================
REDIS_URL=redis://:CHANGE_ME_IN_PRODUCTION@redis:6379/0
REDIS_PASSWORD=CHANGE_ME_IN_PRODUCTION

# ===================================
# JWT & AUTHENTICATION
# ===================================
# Generate these with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_TO_RANDOM_256_BIT_SECRET
JWT_REFRESH_SECRET=CHANGE_ME_TO_DIFFERENT_256_BIT_SECRET

# Password hashing
BCRYPT_ROUNDS=12

# ===================================
# EMAIL CONFIGURATION
# ===================================
# SMTP Settings
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=SENDGRID_API_KEY_HERE
EMAIL_FROM=noreply@zoptal.com

# SendGrid API Key
SENDGRID_API_KEY=SENDGRID_API_KEY_HERE

# ===================================
# SMS/PHONE VERIFICATION
# ===================================
TWILIO_ACCOUNT_SID=TWILIO_ACCOUNT_SID
TWILIO_AUTH_TOKEN=TWILIO_AUTH_TOKEN
TWILIO_PHONE_NUMBER=+1234567890

# ===================================
# OAUTH PROVIDERS
# ===================================
# Google OAuth
GOOGLE_CLIENT_ID=GOOGLE_OAUTH_CLIENT_ID
GOOGLE_CLIENT_SECRET=GOOGLE_OAUTH_CLIENT_SECRET

# GitHub OAuth
GITHUB_CLIENT_ID=GITHUB_OAUTH_CLIENT_ID
GITHUB_CLIENT_SECRET=GITHUB_OAUTH_CLIENT_SECRET

# ===================================
# AI SERVICE APIs
# ===================================
OPENAI_API_KEY=sk-OPENAI_API_KEY_HERE
ANTHROPIC_API_KEY=sk-ant-ANTHROPIC_API_KEY_HERE
GOOGLE_AI_API_KEY=GOOGLE_AI_API_KEY_HERE

# ===================================
# PAYMENT PROCESSING (STRIPE)
# ===================================
STRIPE_SECRET_KEY=sk_live_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_STRIPE_WEBHOOK_SECRET

# Stripe Price IDs for different plans
STRIPE_PRICE_API_REQUESTS=price_API_REQUESTS_PRICE_ID
STRIPE_PRICE_CODE_GENERATIONS=price_CODE_GENERATIONS_PRICE_ID
FREE_PLAN_STRIPE_PRICE_ID=price_FREE_PLAN_PRICE_ID
STARTER_PLAN_STRIPE_PRICE_ID=price_STARTER_PLAN_PRICE_ID
PRO_PLAN_STRIPE_PRICE_ID=price_PRO_PLAN_PRICE_ID
ENTERPRISE_PLAN_STRIPE_PRICE_ID=price_ENTERPRISE_PLAN_PRICE_ID

# ===================================
# PUSH NOTIFICATIONS
# ===================================
# Pusher for real-time notifications
PUSHER_APP_ID=PUSHER_APP_ID
PUSHER_KEY=PUSHER_KEY
PUSHER_SECRET=PUSHER_SECRET
PUSHER_CLUSTER=us2

# Firebase for push notifications
FIREBASE_PROJECT_ID=zoptal-production
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@zoptal-production.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nFIREBASE_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"

# VAPID keys for web push
VAPID_PUBLIC_KEY=VAPID_PUBLIC_KEY
VAPID_PRIVATE_KEY=VAPID_PRIVATE_KEY

# ===================================
# CLOUD STORAGE (AWS S3)
# ===================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=AWS_SECRET_ACCESS_KEY
S3_BUCKET_NAME=zoptal-production-files

# ===================================
# CONTENT MANAGEMENT (CONTENTFUL)
# ===================================
CONTENTFUL_SPACE_ID=CONTENTFUL_SPACE_ID
CONTENTFUL_ACCESS_TOKEN=CONTENTFUL_ACCESS_TOKEN

# ===================================
# ANALYTICS & MONITORING
# ===================================
# Google Analytics
NEXT_PUBLIC_GA_ID=GA_MEASUREMENT_ID

# Sentry for error tracking
SENTRY_DSN=https://SENTRY_DSN_HERE@sentry.io/PROJECT_ID

# ===================================
# SERVICE URLS (INTERNAL)
# ===================================
AUTH_SERVICE_URL=http://auth-service:4001
PROJECT_SERVICE_URL=http://project-service:4002
AI_SERVICE_URL=http://ai-service:4003
BILLING_SERVICE_URL=http://billing-service:4004
NOTIFICATION_SERVICE_URL=http://notification-service:4005

# ===================================
# FRONTEND ENVIRONMENT VARIABLES
# ===================================
# Public URLs for frontend applications
NEXT_PUBLIC_API_URL=https://api.zoptal.com
NEXT_PUBLIC_AUTH_SERVICE_URL=https://api.zoptal.com/auth
NEXT_PUBLIC_PROJECT_SERVICE_URL=https://api.zoptal.com/projects
NEXT_PUBLIC_AI_SERVICE_URL=https://api.zoptal.com/ai
NEXT_PUBLIC_BILLING_SERVICE_URL=https://api.zoptal.com/billing
NEXT_PUBLIC_NOTIFICATION_SERVICE_URL=https://api.zoptal.com/notifications
NEXT_PUBLIC_ANALYTICS_SERVICE_URL=https://api.zoptal.com/analytics

# WebSocket URL
NEXT_PUBLIC_WS_URL=wss://api.zoptal.com

# Main site URL
NEXT_PUBLIC_SITE_URL=https://zoptal.com

# ===================================
# RATE LIMITING
# ===================================
RATE_LIMIT_WINDOW=15m
RATE_LIMIT_MAX_REQUESTS=100

# ===================================
# FEATURE FLAGS
# ===================================
ENABLE_2FA=true
ENABLE_OAUTH=true
ENABLE_USAGE_TRACKING=true
ENABLE_BILLING=true
ENABLE_NOTIFICATIONS=true
ENABLE_ANALYTICS=true
ENABLE_USAGE_BASED_BILLING=true
ENABLE_AUTOMATIC_TAX=true
ENABLE_PRORATION=true
ENABLE_DUNNING_MANAGEMENT=true
ENABLE_REVENUE_RECOGNITION=false

# ===================================
# SECURITY CONFIGURATION
# ===================================
# Session configuration
SESSION_TIMEOUT=24h

# CORS origins (comma-separated)
CORS_ORIGINS=https://zoptal.com,https://www.zoptal.com,https://app.zoptal.com,https://admin.zoptal.com

# ===================================
# BUSINESS CONFIGURATION
# ===================================
COMPANY_NAME=Zoptal
SUPPORT_EMAIL=support@zoptal.com
BUSINESS_ADDRESS=123 Business St, Tech City, TC 12345
TAX_RATE=0.0825
DEFAULT_CURRENCY=USD
SUPPORTED_CURRENCIES=USD,EUR,GBP,CAD,AUD
DEFAULT_LOCALE=en-US

# ===================================
# BILLING CONFIGURATION
# ===================================
TRIAL_PERIOD_DAYS=14
GRACE_PERIOD_DAYS=3
PAYMENT_METHOD_COLLECTION=if_required
INVOICE_DUE_DAYS=30
LATE_FEE_PERCENTAGE=0.015
DUNNING_PERIOD_DAYS=7

# ===================================
# USAGE LIMITS
# ===================================
FREE_PLAN_API_CALLS=1000
STARTER_PLAN_API_CALLS=10000
PRO_PLAN_API_CALLS=100000
ENTERPRISE_PLAN_API_CALLS=-1

# ===================================
# MONITORING CREDENTIALS
# ===================================
# Grafana admin password
GRAFANA_PASSWORD=CHANGE_ME_IN_PRODUCTION

# Traefik dashboard basic auth (generate with: htpasswd -nb admin password)
TRAEFIK_BASIC_AUTH=admin:$2y$10$HASHED_PASSWORD_HERE

# ===================================
# COMPLIANCE
# ===================================
GDPR_ENABLED=true
PCI_COMPLIANCE_LEVEL=1
SOX_COMPLIANCE=false

# ===================================
# DEVELOPMENT/TESTING (set to false in production)
# ===================================
NEXT_TELEMETRY_DISABLED=1